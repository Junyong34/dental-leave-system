# Dashboard í˜ì´ì§€

## ğŸ“‹ ê°œìš”

íŒ€ì›ë“¤ì˜ ì—°ì°¨ í˜„í™©ì„ í•œëˆˆì— í™•ì¸í•  ìˆ˜ ìˆëŠ” ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ì…ë‹ˆë‹¤. ê° ì§ì›ì˜ ì—°ì°¨ í†µê³„, ì‚¬ìš©ë¥ , ë§Œë£Œ ì˜ˆì • ì—°ì°¨ ë“±ì„ ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œí•©ë‹ˆë‹¤.

**ê²½ë¡œ**: `/` (ë©”ì¸ í˜ì´ì§€)

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. íŒ€ì›ë³„ ì—°ì°¨ í˜„í™© ì¡°íšŒ
- ì´ ì—°ì°¨ í•©ì‚° (ëª¨ë“  ì—°ë„)
- ì—°ë„ë³„ ì”ì—¬ ì—°ì°¨ í‘œì‹œ
- ì‚¬ìš©/ì˜ˆì•½/ì”ì—¬ ì—°ì°¨ í†µê³„
- ì—°ì°¨ ì‚¬ìš©ë¥  ì‹œê°í™” (í”„ë¡œê·¸ë ˆìŠ¤ ë°”)
- ë§Œë£Œ ì˜ˆì • ì—°ì°¨ ì•Œë¦¼

### 2. ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ ì¡°íšŒ
- ì‚¬ìš©ì ì¹´ë“œ í´ë¦­ ì‹œ ëª¨ë‹¬ë¡œ ìƒì„¸ ì´ë ¥ í‘œì‹œ
- `LeaveHistoryModal` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

## ğŸ”§ ì‚¬ìš©í•˜ëŠ” API ë° ìœ í‹¸ë¦¬í‹°

### ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
- `getLeaveStatus()` (`@/utils/leave.ts`)
  - ì‚¬ìš©ìì˜ ì „ì²´ ì—°ì°¨ í˜„í™© ê³„ì‚°
  - íŒŒë¼ë¯¸í„°: `userId`, `balances`, `reservations`
  - ë°˜í™˜: `LeaveStatus` ê°ì²´

### ë°ì´í„° ì†ŒìŠ¤
- í˜„ì¬: `sampleData` (ìƒ˜í”Œ ë°ì´í„°)
- í–¥í›„: Supabase APIë¡œ ëŒ€ì²´ ì˜ˆì •

## ğŸ“¦ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```tsx
Dashboard
â”œâ”€â”€ useLoaderData() // React Router loaderë¡œ ë°ì´í„° ë¡œë“œ
â”œâ”€â”€ ì‚¬ìš©ì ì¹´ë“œ ê·¸ë¦¬ë“œ
â”‚   â”œâ”€â”€ ì‚¬ìš©ì ì •ë³´ (ì´ë¦„, ì…ì‚¬ì¼)
â”‚   â”œâ”€â”€ ì´ ì—°ì°¨ í•©ì‚°
â”‚   â”œâ”€â”€ ì—°ë„ë³„ ì”ì—¬ ì—°ì°¨
â”‚   â”œâ”€â”€ ì‚¬ìš©/ì˜ˆì•½/ì”ì—¬ í†µê³„
â”‚   â”œâ”€â”€ ì‚¬ìš©ë¥  í”„ë¡œê·¸ë ˆìŠ¤ ë°”
â”‚   â”œâ”€â”€ ë§Œë£Œ ì˜ˆì • ì—°ì°¨ ì•Œë¦¼
â”‚   â””â”€â”€ ì—°ì°¨ ì‚¬ìš© ë‚´ì—­ ë²„íŠ¼
â””â”€â”€ LeaveHistoryModal (ì—°ì°¨ ì´ë ¥ ëª¨ë‹¬)
```

## ğŸ”„ ë°ì´í„° íë¦„

### 1. Loader í•¨ìˆ˜
```tsx
export async function loader() {
  const usersData = sampleData.users.map((user) => ({
    user,
    leaveStatus: getLeaveStatus(
      user.user_id,
      sampleData.balances,
      sampleData.reservations,
    ),
  }))
  return { usersData }
}
```

### 2. ìƒíƒœ ê´€ë¦¬
- `selectedUserId`: ëª¨ë‹¬ì— í‘œì‹œí•  ì‚¬ìš©ì ID
- í´ë¦­ ì‹œ í•´ë‹¹ ì‚¬ìš©ìì˜ `history` í•„í„°ë§

## ğŸ¨ UI/UX

### ë ˆì´ì•„ì›ƒ
- ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (`minmax(240px, 1fr)`)
- ìµœëŒ€ ë„ˆë¹„: 1400px (ì¤‘ì•™ ì •ë ¬)

### ìƒ‰ìƒ êµ¬ë¶„
- ì´ ì—°ì°¨: Blue (`var(--blue-9)`)
- ì‚¬ìš©: Green (`var(--green-9)`)
- ì˜ˆì•½: Amber (`var(--amber-9)`)
- ì”ì—¬: Purple (`var(--purple-9)`)
- ë§Œë£Œ ì˜ˆì •: Amber ë°°ê²½ (`var(--amber-a3)`)

### ì‚¬ìš©ë¥  ë°”
- ê·¸ë¼ë°ì´ì…˜: Blue â†’ Purple
- í¼ì„¼íŠ¸ í‘œì‹œ: `(used / total * 100).toFixed(1)`

## ğŸ“Š ë°ì´í„° íƒ€ì…

```typescript
interface UserLeaveData {
  user: User
  leaveStatus: LeaveStatus
}

interface LeaveStatus {
  user_id: string
  total: number          // ì „ì²´ ë°œìƒ ì—°ì°¨ (ëª¨ë“  ì—°ë„)
  used: number           // ì‚¬ìš© ì™„ë£Œ
  reserved: number       // ì˜ˆì•½
  remain: number         // ì”ì—¬
  balances: LeaveBalance[]  // ì—°ë„ë³„ ìƒì„¸
  nearest_expiry: {
    year: number
    amount: number
    expire_at: string
  } | null
}
```

## ğŸš€ í–¥í›„ ê°œì„  ì‚¬í•­

1. **Supabase ì—°ë™**
   - `sampleData` â†’ `getUserLeaveStatus()` API í˜¸ì¶œ
   - ì‹¤ì‹œê°„ ë°ì´í„° ì—…ë°ì´íŠ¸

2. **í•„í„°ë§ ê¸°ëŠ¥**
   - ê·¸ë£¹ë³„ í•„í„°
   - ìƒíƒœë³„ í•„í„° (ACTIVE/INACTIVE)
   - ì •ë ¬ ê¸°ëŠ¥

3. **ê²€ìƒ‰ ê¸°ëŠ¥**
   - ì´ë¦„ìœ¼ë¡œ ì§ì› ê²€ìƒ‰

4. **ê¶Œí•œ ê´€ë¦¬**
   - ê´€ë¦¬ìë§Œ ì „ì²´ ì¡°íšŒ ê°€ëŠ¥
   - ì¼ë°˜ ì‚¬ìš©ìëŠ” ë³¸ì¸ë§Œ ì¡°íšŒ

## ğŸ“ ì°¸ê³ ì‚¬í•­

- Radix UI Themesì˜ CSS ë³€ìˆ˜ ì‚¬ìš© (`var(--space-*)`, `var(--color-*)`)
- ìƒ˜í”Œ ë°ì´í„°ëŠ” `src/data/sampleData.ts`ì— ì •ì˜
- ëª¨ë‹¬ì€ Radix UI `Dialog` ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜
